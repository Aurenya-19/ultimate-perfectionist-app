<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Simulations - NEXUS REALITY</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { 
            --bg: #000; 
            --cyan: #00ffff; 
            --pink: #ff00ff; 
            --green: #00ff88; 
            --orange: #ffaa00; 
            --text: #fff;
            --border: rgba(0,255,255,0.3);
        }
        body { font-family: 'Rajdhani', sans-serif; background: var(--bg); color: var(--text); }
        .quantum-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 20% 50%, rgba(0,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(255,0,255,0.1) 0%, transparent 50%); }
        
        .navbar { background: rgba(0,0,0,0.9); padding: 1rem 2rem; border-bottom: 2px solid var(--cyan); }
        .nav-content { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
        .logo { font-family: 'Orbitron', sans-serif; font-size: 1.5rem; color: var(--cyan); font-weight: 900; }
        .nav-links { display: flex; gap: 1.5rem; flex-wrap: wrap; }
        .nav-link { color: var(--text); text-decoration: none; transition: all 0.2s; padding: 0.5rem 1rem; border-radius: 5px; }
        .nav-link:hover { color: var(--cyan); background: rgba(0,255,255,0.1); }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; }
        .title { font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 900; background: linear-gradient(135deg, var(--cyan), var(--pink), var(--green)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; margin-bottom: 2rem; }
        
        .sim-tabs { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; justify-content: center; }
        .sim-tab { padding: 1rem 2rem; background: rgba(0,255,255,0.1); border: 2px solid var(--cyan); border-radius: 10px; cursor: pointer; transition: all 0.3s; font-weight: 700; }
        .sim-tab:hover { background: rgba(0,255,255,0.2); }
        .sim-tab.active { background: linear-gradient(135deg, var(--cyan), #0099cc); }
        
        .sim-container { display: none; }
        .sim-container.active { display: grid; grid-template-columns: 1fr 350px; gap: 2rem; }
        
        .canvas-container { background: linear-gradient(135deg, rgba(0,255,255,0.05), rgba(255,0,255,0.05)); border: 2px solid var(--cyan); border-radius: 12px; padding: 1rem; }
        canvas { width: 100%; height: 500px; background: rgba(0,0,0,0.5); border-radius: 8px; display: block; }
        
        .controls-panel { background: linear-gradient(135deg, rgba(0,255,255,0.1), rgba(255,0,255,0.1)); border: 2px solid var(--cyan); border-radius: 12px; padding: 1.5rem; }
        .control-group { margin-bottom: 1.5rem; }
        .control-label { color: var(--cyan); font-weight: 700; margin-bottom: 0.5rem; display: block; }
        .control-input { width: 100%; padding: 0.5rem; background: rgba(0,0,0,0.5); border: 2px solid var(--border); border-radius: 5px; color: var(--text); font-family: 'Rajdhani', sans-serif; }
        .control-value { color: var(--green); font-weight: 700; font-size: 1.1rem; }
        
        .stats-panel { background: rgba(0,0,0,0.5); border: 2px solid var(--border); border-radius: 8px; padding: 1rem; margin-top: 1rem; }
        .stat-item { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--border); }
        .stat-item:last-child { border-bottom: none; }
        .stat-label { opacity: 0.8; }
        .stat-value { color: var(--green); font-weight: 700; }
        
        .btn { padding: 0.8rem 1.5rem; border: 2px solid var(--cyan); border-radius: 8px; font-weight: 700; cursor: pointer; background: linear-gradient(135deg, var(--cyan), #0099cc); color: #fff; transition: all 0.3s; font-size: 1rem; font-family: 'Rajdhani', sans-serif; border: none; width: 100%; margin-top: 0.5rem; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,255,255,0.5); }
        .btn-danger { background: linear-gradient(135deg, var(--pink), #cc0066); }
        
        @media (max-width: 1024px) { 
            .sim-container.active { grid-template-columns: 1fr; }
            .title { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <div class="quantum-bg"></div>
    
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">üéØ NEXUS REALITY</div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">üè† Home</a>
                <a href="app.html" class="nav-link">üìö Chapters</a>
                <a href="simulations.html" class="nav-link">üéÆ Simulations</a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <h1 class="title">üéÆ Interactive Physics Simulations</h1>
        
        <div class="sim-tabs">
            <div class="sim-tab active" onclick="showSimulation('projectile')">üéØ Projectile Motion</div>
            <div class="sim-tab" onclick="showSimulation('pendulum')">‚öñÔ∏è Simple Pendulum</div>
        </div>
        
        <!-- Projectile Motion -->
        <div id="projectile" class="sim-container active">
            <div class="canvas-container">
                <canvas id="projectileCanvas"></canvas>
            </div>
            
            <div class="controls-panel">
                <h3 style="color: var(--cyan); margin-bottom: 1rem;">Controls</h3>
                
                <div class="control-group">
                    <label class="control-label">Initial Velocity (m/s): <span class="control-value" id="velocityValue">30</span></label>
                    <input type="range" class="control-input" id="velocity" min="10" max="100" value="30" oninput="updateProjectile()">
                </div>
                
                <div class="control-group">
                    <label class="control-label">Launch Angle (¬∞): <span class="control-value" id="angleValue">45</span></label>
                    <input type="range" class="control-input" id="angle" min="0" max="90" value="45" oninput="updateProjectile()">
                </div>
                
                <div class="control-group">
                    <label class="control-label">Gravity (m/s¬≤): <span class="control-value" id="gravityValue">9.8</span></label>
                    <input type="range" class="control-input" id="gravity" min="1" max="20" step="0.1" value="9.8" oninput="updateProjectile()">
                </div>
                
                <button class="btn" onclick="launchProjectile()">
                    <i class="fas fa-rocket"></i> Launch
                </button>
                <button class="btn btn-danger" onclick="resetProjectile()">
                    <i class="fas fa-redo"></i> Reset
                </button>
                
                <div class="stats-panel">
                    <h4 style="color: var(--pink); margin-bottom: 0.5rem;">Statistics</h4>
                    <div class="stat-item">
                        <span class="stat-label">Max Height:</span>
                        <span class="stat-value" id="maxHeight">0 m</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Range:</span>
                        <span class="stat-value" id="range">0 m</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Time of Flight:</span>
                        <span class="stat-value" id="timeOfFlight">0 s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Current Velocity:</span>
                        <span class="stat-value" id="currentVelocity">0 m/s</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Simple Pendulum -->
        <div id="pendulum" class="sim-container">
            <div class="canvas-container">
                <canvas id="pendulumCanvas"></canvas>
            </div>
            
            <div class="controls-panel">
                <h3 style="color: var(--cyan); margin-bottom: 1rem;">Controls</h3>
                
                <div class="control-group">
                    <label class="control-label">Length (m): <span class="control-value" id="lengthValue">2.0</span></label>
                    <input type="range" class="control-input" id="length" min="0.5" max="5" step="0.1" value="2.0" oninput="updatePendulum()">
                </div>
                
                <div class="control-group">
                    <label class="control-label">Initial Angle (¬∞): <span class="control-value" id="pendAngleValue">30</span></label>
                    <input type="range" class="control-input" id="pendAngle" min="5" max="85" value="30" oninput="updatePendulum()">
                </div>
                
                <div class="control-group">
                    <label class="control-label">Damping: <span class="control-value" id="dampingValue">0.00</span></label>
                    <input type="range" class="control-input" id="damping" min="0" max="0.1" step="0.01" value="0" oninput="updatePendulum()">
                </div>
                
                <button class="btn" onclick="startPendulum()">
                    <i class="fas fa-play"></i> Start
                </button>
                <button class="btn btn-danger" onclick="stopPendulum()">
                    <i class="fas fa-stop"></i> Stop
                </button>
                
                <div class="stats-panel">
                    <h4 style="color: var(--pink); margin-bottom: 0.5rem;">Statistics</h4>
                    <div class="stat-item">
                        <span class="stat-label">Period:</span>
                        <span class="stat-value" id="period">0 s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Frequency:</span>
                        <span class="stat-value" id="frequency">0 Hz</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Current Angle:</span>
                        <span class="stat-value" id="currentAngle">0¬∞</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Angular Velocity:</span>
                        <span class="stat-value" id="angularVelocity">0 rad/s</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Projectile Motion Simulation
        let projectileCanvas, projectileCtx;
        let projectileAnimationId = null;
        let projectileData = {
            v0: 30,
            angle: 45,
            g: 9.8,
            x: 0,
            y: 0,
            vx: 0,
            vy: 0,
            t: 0,
            isLaunched: false
        };
        
        function initProjectile() {
            projectileCanvas = document.getElementById('projectileCanvas');
            projectileCtx = projectileCanvas.getContext('2d');
            projectileCanvas.width = projectileCanvas.offsetWidth;
            projectileCanvas.height = projectileCanvas.offsetHeight;
            drawProjectileScene();
        }
        
        function updateProjectile() {
            projectileData.v0 = parseFloat(document.getElementById('velocity').value);
            projectileData.angle = parseFloat(document.getElementById('angle').value);
            projectileData.g = parseFloat(document.getElementById('gravity').value);
            
            document.getElementById('velocityValue').textContent = projectileData.v0;
            document.getElementById('angleValue').textContent = projectileData.angle;
            document.getElementById('gravityValue').textContent = projectileData.g.toFixed(1);
            
            if (!projectileData.isLaunched) {
                calculateProjectileStats();
            }
        }
        
        function calculateProjectileStats() {
            const v0 = projectileData.v0;
            const angle = projectileData.angle * Math.PI / 180;
            const g = projectileData.g;
            
            const maxHeight = (v0 * v0 * Math.sin(angle) * Math.sin(angle)) / (2 * g);
            const range = (v0 * v0 * Math.sin(2 * angle)) / g;
            const timeOfFlight = (2 * v0 * Math.sin(angle)) / g;
            
            document.getElementById('maxHeight').textContent = maxHeight.toFixed(2) + ' m';
            document.getElementById('range').textContent = range.toFixed(2) + ' m';
            document.getElementById('timeOfFlight').textContent = timeOfFlight.toFixed(2) + ' s';
        }
        
        function launchProjectile() {
            if (projectileData.isLaunched) return;
            
            projectileData.isLaunched = true;
            projectileData.t = 0;
            projectileData.x = 0;
            projectileData.y = 0;
            
            const angleRad = projectileData.angle * Math.PI / 180;
            projectileData.vx = projectileData.v0 * Math.cos(angleRad);
            projectileData.vy = projectileData.v0 * Math.sin(angleRad);
            
            animateProjectile();
        }
        
        function animateProjectile() {
            const dt = 0.016; // ~60 FPS
            projectileData.t += dt;
            
            projectileData.x = projectileData.vx * projectileData.t;
            projectileData.y = projectileData.vy * projectileData.t - 0.5 * projectileData.g * projectileData.t * projectileData.t;
            
            const currentVx = projectileData.vx;
            const currentVy = projectileData.vy - projectileData.g * projectileData.t;
            const currentV = Math.sqrt(currentVx * currentVx + currentVy * currentVy);
            
            document.getElementById('currentVelocity').textContent = currentV.toFixed(2) + ' m/s';
            
            drawProjectileScene();
            
            if (projectileData.y >= 0) {
                projectileAnimationId = requestAnimationFrame(animateProjectile);
            } else {
                projectileData.isLaunched = false;
            }
        }
        
        function drawProjectileScene() {
            const canvas = projectileCanvas;
            const ctx = projectileCtx;
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, width, height);
            
            // Ground
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, height - 50);
            ctx.lineTo(width, height - 50);
            ctx.stroke();
            
            // Scale
            const scale = Math.min(width / 150, (height - 100) / 100);
            
            // Projectile
            if (projectileData.isLaunched || projectileData.x > 0) {
                const px = 50 + projectileData.x * scale;
                const py = height - 50 - projectileData.y * scale;
                
                ctx.fillStyle = '#ff00ff';
                ctx.beginPath();
                ctx.arc(px, py, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // Trail
                ctx.strokeStyle = 'rgba(255, 0, 255, 0.3)';
                ctx.lineWidth = 2;
                ctx.beginPath();
                for (let i = 0; i <= projectileData.t; i += 0.1) {
                    const tx = 50 + projectileData.vx * i * scale;
                    const ty = height - 50 - (projectileData.vy * i - 0.5 * projectileData.g * i * i) * scale;
                    if (i === 0) ctx.moveTo(tx, ty);
                    else ctx.lineTo(tx, ty);
                }
                ctx.stroke();
            } else {
                // Launch position
                ctx.fillStyle = '#00ff88';
                ctx.beginPath();
                ctx.arc(50, height - 50, 8, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function resetProjectile() {
            if (projectileAnimationId) {
                cancelAnimationFrame(projectileAnimationId);
            }
            projectileData.isLaunched = false;
            projectileData.x = 0;
            projectileData.y = 0;
            projectileData.t = 0;
            document.getElementById('currentVelocity').textContent = '0 m/s';
            drawProjectileScene();
        }
        
        // Pendulum Simulation
        let pendulumCanvas, pendulumCtx;
        let pendulumAnimationId = null;
        let pendulumData = {
            length: 2.0,
            angle: 30,
            damping: 0,
            angularVel: 0,
            isRunning: false,
            g: 9.8
        };
        
        function initPendulum() {
            pendulumCanvas = document.getElementById('pendulumCanvas');
            pendulumCtx = pendulumCanvas.getContext('2d');
            pendulumCanvas.width = pendulumCanvas.offsetWidth;
            pendulumCanvas.height = pendulumCanvas.offsetHeight;
            drawPendulumScene();
        }
        
        function updatePendulum() {
            pendulumData.length = parseFloat(document.getElementById('length').value);
            pendulumData.angle = parseFloat(document.getElementById('pendAngle').value);
            pendulumData.damping = parseFloat(document.getElementById('damping').value);
            
            document.getElementById('lengthValue').textContent = pendulumData.length.toFixed(1);
            document.getElementById('pendAngleValue').textContent = pendulumData.angle;
            document.getElementById('dampingValue').textContent = pendulumData.damping.toFixed(2);
            
            calculatePendulumStats();
            if (!pendulumData.isRunning) {
                drawPendulumScene();
            }
        }
        
        function calculatePendulumStats() {
            const period = 2 * Math.PI * Math.sqrt(pendulumData.length / pendulumData.g);
            const frequency = 1 / period;
            
            document.getElementById('period').textContent = period.toFixed(2) + ' s';
            document.getElementById('frequency').textContent = frequency.toFixed(2) + ' Hz';
        }
        
        function startPendulum() {
            if (pendulumData.isRunning) return;
            
            pendulumData.isRunning = true;
            pendulumData.angle = parseFloat(document.getElementById('pendAngle').value) * Math.PI / 180;
            pendulumData.angularVel = 0;
            
            animatePendulum();
        }
        
        function animatePendulum() {
            const dt = 0.016;
            
            const angularAcc = -(pendulumData.g / pendulumData.length) * Math.sin(pendulumData.angle);
            pendulumData.angularVel += angularAcc * dt;
            pendulumData.angularVel *= (1 - pendulumData.damping);
            pendulumData.angle += pendulumData.angularVel * dt;
            
            document.getElementById('currentAngle').textContent = (pendulumData.angle * 180 / Math.PI).toFixed(1) + '¬∞';
            document.getElementById('angularVelocity').textContent = pendulumData.angularVel.toFixed(2) + ' rad/s';
            
            drawPendulumScene();
            
            if (pendulumData.isRunning) {
                pendulumAnimationId = requestAnimationFrame(animatePendulum);
            }
        }
        
        function drawPendulumScene() {
            const canvas = pendulumCanvas;
            const ctx = pendulumCtx;
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, width, height);
            
            // Pivot
            const pivotX = width / 2;
            const pivotY = 50;
            
            ctx.fillStyle = '#00ffff';
            ctx.beginPath();
            ctx.arc(pivotX, pivotY, 5, 0, Math.PI * 2);
            ctx.fill();
            
            // Scale
            const scale = Math.min(width / 6, (height - 150) / 5);
            const length = pendulumData.length * scale;
            
            // Pendulum
            const angle = pendulumData.isRunning ? pendulumData.angle : pendulumData.angle * Math.PI / 180;
            const bobX = pivotX + length * Math.sin(angle);
            const bobY = pivotY + length * Math.cos(angle);
            
            // String
            ctx.strokeStyle = '#00ff88';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(pivotX, pivotY);
            ctx.lineTo(bobX, bobY);
            ctx.stroke();
            
            // Bob
            ctx.fillStyle = '#ff00ff';
            ctx.beginPath();
            ctx.arc(bobX, bobY, 15, 0, Math.PI * 2);
            ctx.fill();
        }
        
        function stopPendulum() {
            pendulumData.isRunning = false;
            if (pendulumAnimationId) {
                cancelAnimationFrame(pendulumAnimationId);
            }
        }
        
        // Tab switching
        function showSimulation(simName) {
            document.querySelectorAll('.sim-container').forEach(sim => {
                sim.classList.remove('active');
            });
            document.querySelectorAll('.sim-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(simName).classList.add('active');
            event.target.classList.add('active');
            
            if (simName === 'projectile') {
                initProjectile();
                calculateProjectileStats();
            } else if (simName === 'pendulum') {
                initPendulum();
                calculatePendulumStats();
            }
        }
        
        // Initialize
        window.addEventListener('load', () => {
            initProjectile();
            initPendulum();
            calculateProjectileStats();
            calculatePendulumStats();
        });
        
        console.log('üéÆ Simulations - Fully Functional with Real Physics!');
    </script>
</body>
</html>